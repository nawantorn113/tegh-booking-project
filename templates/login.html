{% extends "base_minimal.html" %}
{% load static %}
{% load widget_tweaks %}

{% block title %}เข้าสู่ระบบ - TEGH Booking{% endblock %}

{% block extra_head %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

<style>
    body {
        background-color: #f8f9fa;
        
        /* 💡 [แก้ไข] 1. "ลด" ความยาว... (เว้นน้อยลง) */
        padding-top: 5rem; 
        padding-bottom: 5rem;
    }
    .login-card {
        width: 50%;
        
        /* 💡 [แก้ไข] 2. "ลด" ความใหญ่... (บีบให้แคบลง) */
        max-width: 200px; 
        
        margin-left: auto;
        margin-right: auto;
        border-radius: 1rem;
        box-shadow: 0 0.5rem 1rem rgba(0,0,0,.1);
        border: 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="login-card">
    <div class="card-body p-2 p-md-2">
        
        <div class="text-center mb-2">
            <i class="bi bi-calendar-week-fill fs-1 text-primary"></i>
            <h3 class="fw-bold mt-2 mb-0">TEGH Booking</h3>
            <p class="text-muted">ระบบจองห้องประชุม (E.Q. Rubber)</p>
        </div>

                <div class="d-grid mb-2">
            <a href="#" class="btn btn-primary btn-lg rounded-pill">
                <i class="bi bi-microsoft me-2"></i> ล็อกอินด้วยบัญชี TEGH
            </a>
        </div>
        
        <div class="text-center mb-3">
            <small class="text-muted">หรือ</small>
        </div>

                <div id="adminLoginForm">
            <form method="post" action="{% url 'login' %}" id="loginForm">
                {% csrf_token %}
                <input type="hidden" name="next" value="{{ next|default:'/' }}">

                {# (ส่วนแสดง Error... เหมือนเดิม) #}
                {% if form.non_field_errors %}
                   <div class="alert alert-danger small p-2" role="alert">
                       {% for error in form.non_field_errors %}{{ error }}{% endfor %}
                   </div>
                {% endif %}

                {# ช่อง Username (แบบ Floating Label) #}
                <div class="form-floating mb-3">
                    {{ form.username|add_class:"form-control"|add_error_class:"is-invalid"|attr:"placeholder:Username" }}
                    <label for="{{ form.username.id_for_label }}">ชื่อผู้ใช้ (Admin)</label>
                    {% if form.username.errors %}
                        <div class="invalid-feedback d-block">{{ form.username.errors|first }}</div>
                    {% endif %}
                </div>
                
                {# ช่อง Password (แบบ Floating Label) #}
                <div class="form-floating mb-3">
                    {{ form.password|add_class:"form-control"|add_error_class:"is-invalid"|attr:"placeholder:Password" }}
                    <label for="{{ form.password.id_for_label }}">รหัสผ่าน</label>
                    {% if form.password.errors %}
                        <div class="invalid-feedback d-block">{{ form.password.errors|first }}</div>
                    {% endif %}
                </div>

                <div class="d-grid">
                    <button class="btn btn-outline-secondary rounded-pill" type="submit">
                        <i class="bi bi-box-arrow-in-right me-2"></i>เข้าสู่ระบบ (Admin)
                    </button>
                </div>
                
            </form>
        </div>
    </div>
</div>
{% endblock %}


{% block extra_scripts %}
{% endblock %}