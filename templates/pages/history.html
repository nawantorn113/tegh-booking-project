{% extends 'base.html' %}
{% block title %}ประวัติการจอง - {{ block.super }}{% endblock %}
{% block content %}
<h1 class="mb-4"><i class="bi bi-clock-history me-2"></i>ประวัติการจองของฉัน</h1>
<div class="card shadow-sm">
    {% if my_bookings %}
    <ul class="list-group list-group-flush">
        {% for booking in my_bookings %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div><strong>{{ booking.title }}</strong> ({{ booking.room.name }})<br><small class="text-muted">{{ booking.start_time|date:"d M Y, H:i" }} - {{ booking.end_time|date:"H:i" }}</small></div>
            <span class="badge {% if booking.status == 'APPROVED' %}bg-success{% elif booking.status == 'PENDING' %}bg-warning text-dark{% else %}bg-danger{% endif %}">{{ booking.get_status_display }}</span>
        </li>
        {% endfor %}
    </ul>
    {% else %}<div class="card-body"><p class="text-muted text-center mb-0">คุณยังไม่มีประวัติการจอง</p></div>{% endif %}
</div>
{% endblock %}